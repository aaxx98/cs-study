# 운영체제 - 메모리

## 키워드

**메모리(Memory)**

- 프로세스 실행에 필요한 코드, 데이터, 스택, 힙 저장

**주소 공간(Address Space)**

- 프로세스가 접근 가능한 메모리 영역
  - 코드, 데이터, 스택, 힙 포함

## 질문과 답변

### 1. 힙(Heap)의 역할, 사용 방식

- 동적 메모리 할당 영역이다.
  - **동적 메모리**
    - 프로그램 실행 중에 크기가 결정되는 데이터
  - `malloc`, `new`등으로 할당
  - `free`, `delete`등으로 해제
- **특징**
  - 크기가 가변적이다.
  - 할당/해제가 자유롭다.
  - 접근 속도가 상대적으로 느리다.
  - 메모리 누수 위험이 있다.

### 2. 스택(Stack) 오버플로우란 무엇이고, 발생 시 운영체제에서 어떤 일을 하는지?

- 스택 영역의 메모리가 부족해지는 현상이다.
  - 무한 재귀 호출시 발생한다.
  - 지역 변수가 차지하는 영역이 커지는 경우 발생한다.
- **운영체제의 처리**
  - 세그멘테이션 오류(Segmentation Fault) 발생
  - 프로세스 강제 종료
  - 에러 메시지 출력

### 3. 가상 메모리의 주소 매핑 방식

- 가상 주소(CPU)를 물리 주소(RAM)로 변환한다.
  - **페이징**: 고정 크기 블록으로 분할
  - **세그멘테이션**: 가변 크기 논리 단위로 분할
- MMU(Memory Management Unit)가 물리 주소를 논리 주소로 변환함
- **페이지 테이블**을 통해 매핑 정보를 관리함

### 4. 동적, 정적, 스택 메모리의 특징

- **동적 메모리(Heap)**

  - 런타임에 크기가 결정된다.
  - 수동으로 할당/해제해야 한다.
  - 가장 유연하지만 관리가 복잡하다.

  ```java
  String str = new String("Hello Heap"); // GC가 회수할 때까지 유지(Java)
  ```

- **정적 메모리**

  - 컴파일 시점에 크기가 결정된다.
  - 프로그램 시작 시 할당된다.
  - 전역 변수로 선언하면 전역 접근이 가능하다.
  - 프로그램 종료까지 유지된다.
  - 누수되지 않으며 초기화가 보장된다.

  ```java
  static int count = 0; // 프로그램 종료 시까지 유지(Java)
  ```

- **스택 메모리**

  - 함수 호출/반환시 자동 할당/해제된다.
  - 지역 변수, 매개변수가 저장된다.
  - 후입선출(LIFO) 방식으로 관리된다.
  - 깊은 재귀 호출 시 스택 오버플로우가 발생한다.

  ```java
  public void example() {
      int localVar = 10; // 메서드 끝나면 해제(Java)
  }
  ```

### 5. 2차 저장장치는 무엇인가?

- 컴퓨터의 주기억장치(RAM) 외부에서 데이터를 영구적으로 저장하는 장치
- 전원이 꺼져도 데이터가 유지된다.
- **특징**
  - 비휘발성 저장장치이다.
  - 메인 메모리(RAM)보다 느리다.
  - 용량에 비해 비용이 저렴하다.
- **종류**
  - **HDD(Hard Disk Drive)**
    - 기계적 방식 (회전/헤드 이동)
    - 속도 느림, 비용 저렴, 용량 큼
    - 데이터 저장에 적합
  - **SSD(Solid State Drive)**
    - 반도체 기반의 비휘발성 저장장치
    - 기계적 부품 없이 전자적으로 읽고 씀
    - 속도 빠름, 전력 소모 적음, 비용 높음
    - 속도가 중요한 데이터 저장에 적합 (운영체제, 게임, 작업프로젝트 등)
  - **광학 드라이브**: CD, DVD, Blu-ray
    - 용량이 작고, 속도가 느림
    - 미디어, 설치용 소프트웨어 저장에 적합
